<% provide :title, t(".title") %>
<div class="vertical-center my-1 d-flex justify-between">
  <h3 style="display: inline-block;"><%= t ".question_list" %></h3>
  <%= link_to t(".create_question"), new_supervisor_question_path, class: "btn btn-primary" %>
</div>
<div class="my-1">
  <% if show_deleted_subject? %>
    <%= link_to t(".show_questions_without_deleted_subject"),
                request.query_parameters.except(:show_deleted_subject) %>
  <% else %>
    <%= link_to t(".show_questions_with_deleted_subject"),
                request.query_parameters.merge({show_deleted_subject: true}) %>
  <% end %>
</div>

<table class="table">
  <thead>
  <tr class="info">
    <th class="col-md-2"><%= t "created_at" %></th>
    <th class="col-md-6"><%= Question.human_attribute_name("content") %></th>
    <th class="col-md-2"><%= Question.human_attribute_name("subject") %></th>
    <th class="col-md-2 center"><%= t "actions" %></th>
  </tr>
  </thead>
  <tbody>
  <% @questions.each do |question| %>
    <tr <%= "class=danger" unless question.subject %>>
      <td><%= question.created_at.strftime(Settings.h_m_s_format) %></td>
      <td><%= question.content %></td>
      <td><%= question.subject.present? ? question.subject_name : t("deleted") %></td>
      <td class="text-right">
        <%= link_to t("edit"), edit_supervisor_question_path(question), class: "btn btn-primary" %>
        <%= link_to t("delete"), "#", method: :delete, class: "btn btn-danger" %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<%== pagy_bootstrap_nav @pagy %>
<%== pagy_info @pagy %>
